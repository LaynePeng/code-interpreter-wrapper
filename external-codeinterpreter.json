{
  "openapi": "3.1.0",
  "info": {
    "title": "AgentCube Controller",
    "description": "Control AgentCube Sandbox lifecycle and execution.",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://YOUR_SERVER_IP:8000"
    }
  ],
  "paths": {
    "/create_sandbox": {
      "post": {
        "operationId": "create_sandbox",
        "summary": "Create a new sandbox",
        "description": "Must be called first to get sandbox_id.",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "conversation_id": { "type": "string" } } } } }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" }, "info": { "type": "object" } } } } }
          }
        }
      }
    },
    "/get_sandbox_info": {
      "post": {
        "operationId": "get_sandbox_info",
        "summary": "Get sandbox info",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" } }, "required": ["sandbox_id"] } } }
        },
        "responses": { "200": { "description": "OK" } }
      }
    },
    "/run_code": {
      "post": {
        "operationId": "run_code",
        "summary": "Run Python code",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" }, "code": { "type": "string" }, "language": { "type": "string", "default": "py" } }, "required": ["sandbox_id", "code"] } } }
        },
        "responses": { "200": { "description": "OK" } }
      }
    },
    "/execute_command": {
      "post": {
        "operationId": "execute_command",
        "summary": "Run Shell command",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" }, "command": { "type": "string" } }, "required": ["sandbox_id", "command"] } } }
        },
        "responses": { "200": { "description": "OK" } }
      }
    },
    "/upload_file": {
      "post": {
        "operationId": "upload_file",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" }, "file_url": { "type": "string" }, "remote_filename": { "type": "string" } }, "required": ["sandbox_id", "file_url", "remote_filename"] } } }
        },
        "responses": { "200": { "description": "OK" } }
      }
    },
    "/download_file": {
      "post": {
        "operationId": "download_file",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" }, "remote_path": { "type": "string" } }, "required": ["sandbox_id", "remote_path"] } } }
        },
        "responses": { "200": { "description": "OK" } }
      }
    },
    "/stop_sandbox": {
      "post": {
        "operationId": "stop_sandbox",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "sandbox_id": { "type": "string" } }, "required": ["sandbox_id"] } } }
        },
        "responses": { "200": { "description": "OK" } }
      }
    }
  }
}